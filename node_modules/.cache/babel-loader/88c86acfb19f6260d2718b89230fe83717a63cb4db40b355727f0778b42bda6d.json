{"ast":null,"code":"var _jsxFileName = \"/Users/Vishal/Documents/ANCKR Codebase/react/src/pages/auth/LoginPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Loader, Image, InputElement, ButtonElement } from \"@/components\";\nimport { getDataFromLocalStorage, getQueryParam } from \"@/utils/helper\";\nimport { loginUser } from \"@/features/auth/authSlice\";\nimport { logo } from \"@/assets/image/images\";\nimport { useAppDispatch, useAppSelector } from \"@/hooks/hooks\";\nimport { LOGIN_VALIDATION_SCHEMA, STRING, routePath } from \"@/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LoginForm = () => {\n  _s();\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n  const {\n    loading\n  } = useAppSelector(state => state.auth);\n  const targetRoute = getQueryParam(\"toRedirect\");\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(LOGIN_VALIDATION_SCHEMA)\n  });\n  useEffect(() => {\n    const auth = getDataFromLocalStorage(STRING.AUTHTOKEN);\n    if (auth) {\n      navigate(routePath.HOME);\n    }\n  }, [navigate]);\n\n  /**\n   * Handles the form submission when the login form is submitted.\n   * Dispatches the `loginUser` action with the form data and redirects the user to the specified route if the login is successful.\n   * @param data - The form data submitted by the user.\n   */\n\n  const onSubmit = async data => {\n    try {\n      const result = await dispatch(loginUser(data));\n      const redirectTo = targetRoute || routePath.HOME;\n      if (result.payload) {\n        navigate(redirectTo);\n      }\n    } catch (error) {\n      console.error(\"An error occurred during login:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      className: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        src: logo,\n        alt: \"logo\",\n        className: \"custom-image\",\n        width: 70,\n        height: 50,\n        placeholderSrc: \"https://b.zmtcdn.com/images/res_avatar_476_320_1x_new.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-title mt-20\",\n          children: \"Welcome to ANCKR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-subtitle \",\n          children: \"Please login below :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(InputElement, {\n        name: \"username\",\n        label: \"Username\",\n        type: \"text\",\n        register: register,\n        error: errors.username,\n        className: \"form-input\",\n        wrapperClass: \"form-group mt-10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(InputElement, {\n        name: \"password\",\n        label: \"Password\",\n        type: \"password\",\n        register: register,\n        error: errors.password,\n        className: \"form-input\",\n        wrapperClass: \"form-group\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: routePath.FORGOTPASSWORD,\n        className: \"login-forgot-password\",\n        children: \"Forgot password ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ButtonElement, {\n        text: \"Login\",\n        btnClassName: \"form-button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_s(LoginForm, \"LJhD/gol7sB3B0C3InSUTlgZ3hY=\", false, function () {\n  return [useNavigate, useAppDispatch, useAppSelector, useForm];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useEffect","useForm","yupResolver","Link","useNavigate","Loader","Image","InputElement","ButtonElement","getDataFromLocalStorage","getQueryParam","loginUser","logo","useAppDispatch","useAppSelector","LOGIN_VALIDATION_SCHEMA","STRING","routePath","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginForm","_s","navigate","dispatch","loading","state","auth","targetRoute","register","handleSubmit","formState","errors","resolver","AUTHTOKEN","HOME","onSubmit","data","result","redirectTo","payload","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","alt","width","height","placeholderSrc","name","label","type","username","wrapperClass","password","to","FORGOTPASSWORD","text","btnClassName","_c","$RefreshReg$"],"sources":["/Users/Vishal/Documents/ANCKR Codebase/react/src/pages/auth/LoginPage.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useForm, SubmitHandler } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Loader, Image, InputElement, ButtonElement } from \"@/components\";\nimport { LoginFormInputs } from \"@/interface\";\nimport { getDataFromLocalStorage, getQueryParam } from \"@/utils/helper\";\nimport { loginUser } from \"@/features/auth/authSlice\";\nimport { logo } from \"@/assets/image/images\";\nimport { useAppDispatch, useAppSelector } from \"@/hooks/hooks\";\nimport { LOGIN_VALIDATION_SCHEMA, STRING, routePath } from \"@/constants\";\n\nconst LoginForm = () => {\n\tconst navigate = useNavigate();\n\tconst dispatch = useAppDispatch();\n\tconst { loading } = useAppSelector((state) => state.auth);\n\tconst targetRoute = getQueryParam(\"toRedirect\");\n\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors },\n\t} = useForm<LoginFormInputs>({\n\t\tresolver: yupResolver(LOGIN_VALIDATION_SCHEMA),\n\t});\n\n\tuseEffect(() => {\n\t\tconst auth = getDataFromLocalStorage(STRING.AUTHTOKEN);\n\t\tif (auth) {\n\t\t\tnavigate(routePath.HOME);\n\t\t}\n\t}, [navigate]);\n\n\t/**\n\t * Handles the form submission when the login form is submitted.\n\t * Dispatches the `loginUser` action with the form data and redirects the user to the specified route if the login is successful.\n\t * @param data - The form data submitted by the user.\n\t */\n\n\tconst onSubmit: SubmitHandler<LoginFormInputs> = async (data) => {\n\t\ttry {\n\t\t\tconst result = await dispatch(loginUser(data));\n\t\t\tconst redirectTo = targetRoute || routePath.HOME;\n\t\t\tif (result.payload) {\n\t\t\t\tnavigate(redirectTo);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"An error occurred during login:\", error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? <Loader /> : null}\n\t\t\t<form onSubmit={handleSubmit(onSubmit)} className=\"login-form\">\n\t\t\t\t<Image\n\t\t\t\t\tsrc={logo}\n\t\t\t\t\talt=\"logo\"\n\t\t\t\t\tclassName=\"custom-image\"\n\t\t\t\t\twidth={70}\n\t\t\t\t\theight={50}\n\t\t\t\t\tplaceholderSrc=\"https://b.zmtcdn.com/images/res_avatar_476_320_1x_new.png\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"form-header\">\n\t\t\t\t\t<div className=\"login-title mt-20\">Welcome to ANCKR</div>\n\t\t\t\t\t<div className=\"login-subtitle \">Please login below :</div>\n\t\t\t\t</div>\n\t\t\t\t<InputElement\n\t\t\t\t\tname=\"username\"\n\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tregister={register}\n\t\t\t\t\terror={errors.username}\n\t\t\t\t\tclassName=\"form-input\"\n\t\t\t\t\twrapperClass=\"form-group mt-10\"\n\t\t\t\t/>\n\t\t\t\t<InputElement\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tregister={register}\n\t\t\t\t\terror={errors.password}\n\t\t\t\t\tclassName=\"form-input\"\n\t\t\t\t\twrapperClass=\"form-group\"\n\t\t\t\t/>\n\t\t\t\t<Link to={routePath.FORGOTPASSWORD} className=\"login-forgot-password\">\n\t\t\t\t\tForgot password ?\n\t\t\t\t</Link>\n\t\t\t\t<ButtonElement text=\"Login\" btnClassName=\"form-button\" />\n\t\t\t</form>\n\t\t</>\n\t);\n};\n\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}