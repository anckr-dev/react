{"ast":null,"code":"import axios from \"axios\";\nimport { APP_ENV, STRING } from \"@/constants\";\nimport { getDataFromLocalStorage, logger } from \"@/utils\";\nconst baseURL = \"https://dummyjson.com/auth\";\nconst axiosInstance = axios.create({\n  baseURL: baseURL\n});\nlet startTime = null;\naxiosInstance.interceptors.request.use(config => {\n  startTime = new Date().getTime();\n  const token = getDataFromLocalStorage(STRING.USERDETAILS);\n  if (token !== null && token !== void 0 && token.token) {\n    config.headers[STRING.AUTHORIZATION] = `Bearer ${token === null || token === void 0 ? void 0 : token.token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\naxiosInstance.interceptors.response.use(response => {\n  if (startTime !== null) {\n    const endTime = new Date().getTime();\n    const responseTime = endTime - startTime;\n    if (APP_ENV !== \"production\") {\n      logger.log(`API took ${responseTime} ms for this request`);\n    }\n  }\n  return response;\n}, error => {\n  return Promise.reject(error);\n});\nexport default axiosInstance;","map":{"version":3,"names":["axios","APP_ENV","STRING","getDataFromLocalStorage","logger","baseURL","axiosInstance","create","startTime","interceptors","request","use","config","Date","getTime","token","USERDETAILS","headers","AUTHORIZATION","error","Promise","reject","response","endTime","responseTime","log"],"sources":["/Users/Vishal/Documents/ANCKR Codebase/react/src/app/axiosInstance.ts"],"sourcesContent":["import axios from \"axios\";\nimport { APP_ENV, STRING } from \"@/constants\";\nimport { getDataFromLocalStorage, logger } from \"@/utils\";\n\nconst baseURL = \"https://dummyjson.com/auth\";\nconst axiosInstance = axios.create({\n\tbaseURL: baseURL\n});\n\nlet startTime: number | null = null;\n\naxiosInstance.interceptors.request.use(\n\t(config) => {\n\t\tstartTime = new Date().getTime();\n\t\tconst token = getDataFromLocalStorage(STRING.USERDETAILS);\n\t\tif (token?.token) {\n\t\t\tconfig.headers[STRING.AUTHORIZATION] = `Bearer ${token?.token}`;\n\t\t}\n\t\treturn config;\n\t},\n\t(error) => {\n\t\treturn Promise.reject(error);\n\t},\n);\n\naxiosInstance.interceptors.response.use(\n\t(response) => {\n\t\tif (startTime !== null) {\n\t\t\tconst endTime = new Date().getTime();\n\t\t\tconst responseTime = endTime - startTime;\n\n\t\t\tif (APP_ENV !== \"production\") {\n\t\t\t\tlogger.log(`API took ${responseTime} ms for this request`);\n\t\t\t}\n\t\t}\n\n\t\treturn response;\n\t},\n\t(error) => {\n\t\treturn Promise.reject(error);\n\t},\n);\n\nexport default axiosInstance;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,EAAEC,MAAM,QAAQ,aAAa;AAC7C,SAASC,uBAAuB,EAAEC,MAAM,QAAQ,SAAS;AAEzD,MAAMC,OAAO,GAAG,4BAA4B;AAC5C,MAAMC,aAAa,GAAGN,KAAK,CAACO,MAAM,CAAC;EAClCF,OAAO,EAAEA;AACV,CAAC,CAAC;AAEF,IAAIG,SAAwB,GAAG,IAAI;AAEnCF,aAAa,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CACpCC,MAAM,IAAK;EACXJ,SAAS,GAAG,IAAIK,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;EAChC,MAAMC,KAAK,GAAGZ,uBAAuB,CAACD,MAAM,CAACc,WAAW,CAAC;EACzD,IAAID,KAAK,aAALA,KAAK,eAALA,KAAK,CAAEA,KAAK,EAAE;IACjBH,MAAM,CAACK,OAAO,CAACf,MAAM,CAACgB,aAAa,CAAC,GAAI,UAASH,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEA,KAAM,EAAC;EAChE;EACA,OAAOH,MAAM;AACd,CAAC,EACAO,KAAK,IAAK;EACV,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC7B,CACD,CAAC;AAEDb,aAAa,CAACG,YAAY,CAACa,QAAQ,CAACX,GAAG,CACrCW,QAAQ,IAAK;EACb,IAAId,SAAS,KAAK,IAAI,EAAE;IACvB,MAAMe,OAAO,GAAG,IAAIV,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;IACpC,MAAMU,YAAY,GAAGD,OAAO,GAAGf,SAAS;IAExC,IAAIP,OAAO,KAAK,YAAY,EAAE;MAC7BG,MAAM,CAACqB,GAAG,CAAE,YAAWD,YAAa,sBAAqB,CAAC;IAC3D;EACD;EAEA,OAAOF,QAAQ;AAChB,CAAC,EACAH,KAAK,IAAK;EACV,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC7B,CACD,CAAC;AAED,eAAeb,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}